<div id="add_payment" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-header">
        <button type="button" class="close" id="btn_addChargesClose" data-dismiss="modal" aria-label="Close" ng-click="$dismiss('cancel')" &times;><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title modal-top">Add New Charges</h4>
    </div>
    <div class="modal-body">
        <form class="form-content2 edit-organization-setting" name="newForm" novalidate data-ng-submit="addNew(newForm.$valid)" autocomplete="off" >

            <div  class="payment-modal-wrap">

                <div class="clearfix form-bx-ht" style="padding: 2% 5px 0px 26px;" ng-repeat="choice in choices2" ng-form="repeatform">

                    <div class="container">
                        <div class="col-md-12">
                           <div class="row">
                                <div class="col-md-2" >
                                    <div class="form-group"
                                                   data-ng-class="{
                                                         'has-error' : repeatform.cname.$invalid && (!repeatform.cname.$pristine || showValid) && !repeatform.cname.$focus,
                                                         'has-success': repeatform.cname.$valid && !repeatform.cname.$pristine && !repeatform.cname.$focus
                                                                    }">
                                       <div class="charge">
                                      <label class="charge_label" for=""><b>Charges Name</b></label>
                                          <input class="form-control"
                                              name="cname" id="addNewChargeName"
                                              data-ng-model="choice.Charge_name_Type_name"
                                               minlength="1"
                                                ng-pattern="/^[\w -]*$/"
                                                 input-focus
                                                 required />
                                           <div ng-messages="repeatform.cname.$error" style="color:maroon" role="alert">
                                               <div ng-message="required" data-ng-if="repeatform.cname.$invalid && (!repeatform.cname.$pristine || showValid) && !repeatform.cname.$focus">This field should not be empty </div>
                                               <div ng-message="pattern" id="err_addNewChargeName">Enter valid  charge name</div>
                                           </div>
                                         </div>

                                     </div> 
                                </div>

                               
                                <div class="col-md-2 charge" >
                                    
                                        <div class="form-group"
                                             data-ng-class="{
                                                                        'has-error' : repeatform.ctype.$invalid && (!repeatform.ctype.$pristine || showValid) && !repeatform.ctype.$focus,
                                                                        'has-success': repeatform.ctype.$valid && !repeatform.ctype.$pristine && !repeatform.ctype.$focus
                                                                     }">
                                            <label for="" class="charge_label"><b>Charge Type</b></label>
                                            <select ng-model="chargetype[$index].id" name="ctype" ng-change="selectctype(chargetype[$index].id,$index)" id="addNewChargeType"
                                                    class="dropdown form-control" required>
                                                <option value="" selected>Select Charge Type</option>
                                                <option ng-repeat="type in types"
                                                        value="{{type.id}}">
                                                    {{type.name}}
                                                </option>

                                            </select>
                                            <div ng-messages="repeatform.ctype.$error" style="color:maroon" role="alert">
                                                <div ng-message="required" id="err_addNewChargeType" data-ng-if="repeatform.ctype.$invalid && (!repeatform.ctype.$pristine || showValid) && !repeatform.ctype.$focus">This field should not be empty </div>
                                            </div>

                                        </div>
                                    
                                </div>

                                <div class="col-md-1 charge">
                                    
                                    <div class="form-group"
                                         data-ng-class="{
                                                                        'has-error' : repeatform.caltype.$invalid && (!repeatform.caltype.$pristine || showValid) && !repeatform.caltype.$focus,
                                                                        'has-success': repeatform.caltype.$valid && !repeatform.caltype.$pristine && !repeatform.caltype.$focus
                                                                     }">
                                        <label for="" class="charge_label"><b>Calculation</b></label>
                                        <select ng-model="caltype[$index].id" name="caltype" ng-change="selectyear($index)" id="addNewChargeCalculation"
                                                class="dropdown form-control" required>
                                            <option value="" selected>Select Calculation Type</option>
                                            <option ng-repeat="caltype in caltypes"
                                                    value="{{caltype}}">
                                                {{caltype}}
                                            </option>

                                        </select>
                                        <div ng-messages="repeatform.caltype.$error" style="color:maroon" role="alert">
                                            <div ng-message="required" id="err_addNewChargeCalculation" data-ng-if="repeatform.caltype.$invalid && (!repeatform.caltype.$pristine || showValid) && !repeatform.caltype.$focus">This field should not be empty </div>
                                        </div>

                                    </div>
                                   </div>

                               
                                <div class="col-md-1" >

                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : repeatform.months.$invalid && (!repeatform.months.$pristine || showValid) && !repeatform.months.$focus,
                                                         'has-success': repeatform.months.$valid && !repeatform.months.$pristine && !repeatform.months.$focus
                                                                    }">
                                        <div class="charge">
                                            <label class="charge_label"><b>No of Months</b></label>
                                            <input class="form-control"
                                                   name="months" id="addNewChargeMonths"
                                                   data-ng-model="choice.no_of_months"
                                                   minlength="1"
                                                   maxlength="3"
                                                   ng-pattern="/^([1-9][0-9]*)$/"
                                                   ng-disabled="!chargetype[$index].enable"
                                                   input-focus
                                                    />
                                            <div ng-messages="repeatform.months.$error" style="color:maroon" role="alert">
                       
                                                <div ng-message="pattern" id="err_addNewChargeMonths">Enter valid no of month</div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                               
                                <div class="col-md-2" >
                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : repeatform.Percentage.$invalid && (!repeatform.Percentage.$pristine || showValid) && !repeatform.Percentage.$focus,
                                                         'has-success': repeatform.Percentage.$valid && !repeatform.Percentage.$pristine && !repeatform.Percentage.$focus
                                                                    }">
                                        <div>
                                            <label class="charge_label"><b>Category</b></label>
                                            <div class="area-f charge">
                                                <input class="form-control"
                                                       name="Percentage"  
                                                       data-ng-model="choice.category_type_name"
                                                       minlength="1"
                                                       maxlength="30"
                                                       ng-pattern="/^[\w -]*$/"
                                                       input-focus
                                                       required />
                                                
                                                <div ng-messages="repeatform.Percentage.$error" style="color:maroon" role="alert">
                                                    <div ng-message="required" data-ng-if="repeatform.Percentage.$invalid && (!repeatform.Percentage.$pristine || showValid) && !repeatform.Percentage.$focus">This field should not be empty </div>
                                                    <div ng-message="pattern" id="err_addNewChargeCategory">Enter valid  category name</div>
                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                               
                                <div class="col-md-1">
                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : repeatform.cvalue.$invalid && (!repeatform.cvalue.$pristine || showValid) && !repeatform.cvalue.$focus,
                                                         'has-success': repeatform.cvalue.$valid && !repeatform.cvalue.$pristine && !repeatform.cvalue.$focus
                                                                    }">
                                        <div class="charge">
                                            <label class="charge_label"><b>Value</b></label>
                                            <input class="form-control"
                                                   name="cvalue" id="addNewChargeValue"
                                                   data-ng-model="choice.charge_value"
                                                   minlength="1"
                                                   ng-pattern="/^([0-9][0-9,./]*)$/"
                                                   input-focus
                                                   required />
                                            <div ng-messages="repeatform.cvalue.$error" style="color:maroon" role="alert">
                                                <div ng-message="required" data-ng-if="repeatform.cvalue.$invalid && (!repeatform.cvalue.$pristine || showValid) && !repeatform.cvalue.$focus">This field should not be empty </div>
                                                <div ng-message="pattern" id="err_addNewChargeValue">Enter valid value</div>
                                            </div>
                                        </div>
                                       
                                    </div>
                                  
                                </div>
                            </div>


                       

                    </div>
                        </div>
            </div>
                <div class="col-md-6" style="margin-left: 3%;">
                    <button type="button" id="btn_addNewChargeNew" class="btn btn-primary quote_add_btn" value="ADD NEW" ng-click="addNewCharge($event)"><i class="fa fa-plus"></i> ADD NEW CHARGE</button>
                    <a href="" class="remove-field0" ng-click="RemoveCharge($event)" id="btn_addNewChargeClear" style="margin-left: 3%;text-decoration: underline;">CLEAR</a>
                </div>
                <div id="add-address" ng-class="{'add-input add-input2': $index==0,'remove-field0': $index>0}"><a href="javascript:"></a></div>
                </div>

            <div class="modal-btn-wrap5 modal-btn-wrap6 clearfix" style="padding: 2%;">
                <div class="btn-f-c"><button class="f-btn" id="btn_addNewChargeSave" type="submit">SAVE</button></div>
                <div class="btn-f-c">
                    <button type="button" class="f-btn f-btn2" id="btn_addNewChargeCancel" ng-click="cancel()" style="width:400px">CANCEL</button>
                </div>
            </div>

        </form>

    </div><!-- modal-body ended -->


</div>
