<div id="add_payment" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-header">
        <button type="button" class="close" id="btn_editChargeClose" data-dismiss="modal" aria-label="Close" ng-click="$dismiss('cancel')" &times;><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title modal-top">Edit Charges</h4>
    </div>
    <div class="modal-body">
        <form class="form-content2 edit-organization-setting" name="newForm" novalidate data-ng-submit="addNew(newForm.$valid)" autocomplete="off">

            <div class="payment-modal-wrap">

                <div class="clearfix form-bx-ht" style="padding: 2% 5px 0px 26px;" ng-repeat="choice in choices2">

                    <div class="container">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : newForm.cname.$invalid && (!newForm.cname.$pristine || showValid) && !newForm.cname.$focus,
                                                         'has-success': newForm.cname.$valid && !newForm.cname.$pristine && !newForm.cname.$focus
                                                                    }">
                                        <div class="charge">
                                            <label class="charge_label" for=""><b>Charges Name</b></label>
                                            <input class="form-control"
                                                   name="cname" id="editChargesName"
                                                   data-ng-model="choice.Charge_name_Type_name"
                                                   minlength="1"
                                                   ng-pattern="/^[\w -]*$/"
                                                   input-focus
                                                   required />
                                            <div class="text-danger"
                                                 data-ng-if="newForm.cname.$invalid && (!newForm.cname.$pristine || showValid) && !newForm.cname.$focus" id="err_editChargesName">
                                                {{ 'Enter valid charge name' | translate }}
                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <div class="col-md-2 charge">

                                    <div class="form-group"
                                         data-ng-class="{
                                                                        'has-error' : newForm.ctype.$invalid && (!newForm.ctype.$pristine || showValid) && !newForm.ctype.$focus,
                                                                        'has-success': newForm.ctype.$valid && !newForm.ctype.$pristine && !newForm.ctype.$focus
                                                                     }">
                                        <label for="" class="charge_label"><b>Charge Type</b></label>
                                        <select ng-model="chargetype[$index].id" name="ctype" ng-change="selectctype(chargetype[$index].id,$index)" id="editChargeType"
                                                class="dropdown form-control" required>
                                            <option value="" selected>Select Charge Type</option>
                                            <option ng-repeat="type in types"
                                                    value="{{type.id}}">
                                                {{type.name}}
                                            </option>

                                        </select>
                                        <div class="text-danger"
                                             data-ng-if="newForm.ctype.$invalid && (!newForm.ctype.$pristine || showValid) && !newForm.ctype.$focus" id="err_editChargeType">
                                            {{ 'select valid charge type' | translate }}
                                        </div>

                                    </div>

                                </div>

                                <div class="col-md-1 charge">

                                    <div class="form-group"
                                         data-ng-class="{
                                                                        'has-error' : newForm.caltype.$invalid && (!newForm.caltype.$pristine || showValid) && !newForm.caltype.$focus,
                                                                        'has-success': newForm.caltype.$valid && !newForm.caltype.$pristine && !newForm.caltype.$focus
                                                                     }">
                                        <label for="" class="charge_label"><b>Calculation</b></label>
                                        <select ng-model="caltype[$index].id" name="caltype" ng-change="selectyear($index)" id="editChargeCalculation"
                                                class="dropdown form-control" required>
                                            <option value="" selected>Select Calculation Type</option>
                                            <option ng-repeat="caltype in caltypes"
                                                    value="{{caltype}}">
                                                {{caltype}}
                                            </option>

                                        </select>
                                        <div class="text-danger"
                                             data-ng-if="newForm.caltype.$invalid && (!newForm.caltype.$pristine || showValid) && !newForm.caltype.$focus" id="err_editChargeCalculation">
                                            {{ 'select valid Calculation Type' | translate }}
                                        </div>

                                    </div>
                                </div>


                                <div class="col-md-1">

                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : newForm.months.$invalid && (!newForm.months.$pristine || showValid) && !newForm.months.$focus,
                                                         'has-success': newForm.months.$valid && !newForm.months.$pristine && !newForm.months.$focus
                                                                    }">
                                        <div class="charge">
                                            <label class="charge_label"><b>No of Months</b></label>
                                            <input class="form-control"
                                                   name="months" id="editChargeMonths"
                                                   data-ng-model="choice.no_of_months"
                                                   ng-pattern="/^[0-9]{1,3}$/"
                                                   ng-disabled="!chargetype[$index].enable"
                                                   input-focus />
                                            <div class="text-danger"
                                                 data-ng-if="newForm.months.$invalid && (!newForm.months.$pristine || showValid) && !newForm.months.$focus" id="btn_editChargeMonths">
                                                {{ 'Enter valid no of months' | translate }}
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : newForm.Percentage.$invalid && (!newForm.Percentage.$pristine || showValid) && !newForm.Percentage.$focus,
                                                         'has-success': newForm.Percentage.$valid && !newForm.Percentage.$pristine && !newForm.Percentage.$focus
                                                                    }">
                                        <div>
                                            <label class="charge_label"><b>Category</b></label>
                                            <div class="area-f charge">
                                                <input class="form-control"
                                                       name="Percentage" id="editChargeCategory"
                                                       data-ng-model="choice.category_type_name"
                                                       minlength="1"
                                                       maxlength="30"
                                                       ng-pattern="/^[\w -]*$/"
                                                       input-focus
                                                       required />

                                                <div class="text-danger"
                                                     data-ng-if="newForm.Percentage.$invalid && (!newForm.Percentage.$pristine || showValid) && !newForm.Percentage.$focus" id="err_editChargeCategory">
                                                    {{ 'Enter valid percentage' | translate }}
                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-1">
                                    <div class="form-group"
                                         data-ng-class="{
                                                         'has-error' : newForm.cvalue.$invalid && (!newForm.cvalue.$pristine || showValid) && !newForm.cvalue.$focus,
                                                         'has-success': newForm.cvalue.$valid && !newForm.cvalue.$pristine && !newForm.cvalue.$focus
                                                                    }">
                                        <div class="charge">
                                            <label class="charge_label"><b>Value</b></label>
                                            <input class="form-control"
                                                   name="cvalue" id="editChargeValue"
                                                   data-ng-model="choice.charge_value"
                                                   minlength="1"
                                                   ng-pattern="/^([1-9][0-9,./]*)$/"
                                                   input-focus
                                                   required />
                                            <div class="text-danger"
                                                 data-ng-if="newForm.cvalue.$invalid && (!newForm.cvalue.$pristine || showValid) && !newForm.cvalue.$focus" id="err_editChargeValue">
                                                {{ 'Enter valid charge value' | translate }}
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>




                        </div>
                    </div>
                </div>
                <!--<div class="col-md-6" style="margin-left: 3%;">
                    <button type="button" class="btn btn-primary quote_add_btn" value="ADD NEW" ng-click="addNewChoice2($event)"><i class="fa fa-plus"></i> ADD NEW CHARGE</button>
                    <a href="#" ng-click="choices2.pop()" style="margin-left: 3%;text-decoration: underline;">CLEAR</a>
                </div>-->
                <div id="add-address" ng-class="{'add-input add-input2': $index==0,'remove-field0': $index>0}"><a href="javascript:"></a></div>
            </div>

            <div class="modal-btn-wrap5 modal-btn-wrap6 clearfix" style="padding: 2%;">
                <div class="btn-f-c"><button class="f-btn" id="btn_editChargeSave" type="submit">SAVE</button></div>
                <div class="btn-f-c">
                    <button type="button" class="f-btn f-btn2" id="btn_editChargeCancel" ng-click="cancel()" style="width:400px">CANCEL</button>
                </div>
            </div>

        </form>

    </div><!-- modal-body ended -->


</div>

