

<div id="add_new_contact" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-header">
        <button id="btn_AddNewServiceClose" type="button" class="close" hidden="btn_AddNewServiceClose" data-dismiss="modal" aria-label="Close" ng-click="$dismiss('cancel')" &times;><span aria-hidden="true">&times;</span></button>
        <h4 class="form-title modal-top">Add New Service</h4>
    </div>
    <div class="modal-body" nv-file-drop="" uploader="uploader" filters="queueLimit, customFilter">

        <form class="form-content" name="newForm" novalidate data-ng-submit="addNewContact(newForm.$valid)" autocomplete="off">
            <div class="clearfix">

                <div class="col-md-4">
                    <label for=""> Name</label>
                    <div class="form-group"
                         data-ng-class="{
                               'has-error' : newForm.Name.$invalid && (!newForm.Name.$pristine || showValid) && !newForm.Name.$focus,
                                 'has-success': newForm.Name.$valid && !newForm.Name.$pristine && !newForm.Name.$focus
                            }">
                        <input type="text" autofocus name="Name" class="form-control charge_label" id="addNewServiceName"
                               data-ng-model="params.name"
                               minlength="1"
                               maxlength="100"
                               alphabets-only
                               input-focus
                               required />
                        <div ng-messages="newForm.Name.$error" style="color:maroon" role="alert">
                            <div ng-message="required" data-ng-if="newForm.Name.$invalid && (!newForm.Name.$pristine || showValid) && !newForm.firstName.$focus">This field should not be empty </div>
                            <div ng-message="pattern" id="err_addNewServiceName">Enter valid first name</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="organization_desc_wrap clearfix">
                <div class="form-group form-bx form-bx5">
                    <div class="form-group"
                         data-ng-class="{
                                        'has-error' : newForm.Description.$invalid && (!newForm.Description.$pristine || showValid) && !newForm.Description.$focus,
                                        'has-success': newForm.Description.$valid && !newForm.Description.$pristine && !newForm.Description.$focus
                                    }">
                        <div class="col-md-7">
                            <div style="margin-bottom: 2%;"> <label for="">Description</label></div>
                            <textarea type="text" id="txt_addNewServiceDescription" autofocus ng-model="description"
                                      minlength="1"
                                      maxlength="50"
                                      style="width:388px;
                                      height:100px;"
                                      input-focus />
                            <div class="text-danger"
                                 data-ng-if="newForm.Description.$invalid && (!newForm.Description.$pristine || showValid) && !newForm.Description.$focus" id="err_txt_addNewServiceDescription">
                                {{ 'invalid Description' | translate }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="clearfix">

                <div class="form-bx">
                    <label for="">Unit Price</label>
                    <div class="form-group"
                         data-ng-class="{
                               'has-error' : newForm.price.$invalid && (!newForm.price.$pristine || showValid) && !newForm.price.$focus,
                                 'has-success': newForm.price.$valid && !newForm.price.$pristine && !newForm.price.$focus
                            }">
                        <input type="text" format autofocus name="price" class="form-control  charge_label" id="addNewServiceUnitPrice"
                               data-ng-model="params.price"
                               minlength="1"
                               maxlength="40"
                               alphabets-only
                               input-focus
                               required
                               ng-pattern="/^([1-9][0-9,./]*)$/" />
                        <div ng-messages="newForm.price.$error" style="color:maroon" role="alert">
                            <div ng-message="required" data-ng-if="newForm.price.$invalid && (!newForm.price.$pristine || showValid) && !newForm.price.$focus">This field should not be empty </div>
                            <div ng-message="pattern" id="err_addNewServiceUnitPrice">Enter valid price</div>
                        </div>
                    </div>
                </div>



            </div>


            <div class="clearfix" ng-repeat="quotes in quotes2">
                <div class="form-group">
                    <div class="col-md-2 ">
                        <div class="form-group"
                             data-ng-class="{
                                       'has-error' : newForm.tax.$invalid && (!newForm.tax.$pristine || showValid) && !newForm.tax.$focus,
                                        'has-success': newForm.tax.$valid && !newForm.Milestone.$pristine && !newForm.tax.$focus
                                         }">

                            <label for=""><b>Add Tax</b></label>
                            <select name="project_year" id="addNewServiceAddTax" ng-change="selectService($index)" ng-model='serviceType[$index].id' class="dropdown form-control  charge_label">
                                <option value="" selected>--Select Tax--</option>
                                <option ng-repeat="tax in taxes"
                                        value={{tax.id}}>
                                    {{tax.charge_type}}
                            </select>


                        </div>
                    </div>
                    <div class="col-md-2 service_add">
                        <div class="form-group"
                             data-ng-class="{
                       'has-error' : newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus,
                       'has-success': newForm.charges_amt.$valid && !newForm.charges_amt.$pristine && !newForm.charges_amt.$focus
                         }">


                            <div class="area-f">

                                <label>charge</label>
                                <input disabled class="form-control  charge_label"
                                       name="charges_amt" id="addNewServiceCharge"
                                       data-ng-model="serviceType[$index].charge"
                                       minlength="1"
                                       maxlength="3"
                                       ng-pattern="/^(0|[1-9][0-9]*)$/"
                                       input-focus
                                       required />

                                <div class="text-danger"
                                     data-ng-if="newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus" id="err_addNewServiceCharge">
                                    {{ 'Please enter valid percentage' | translate }}
                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="col-md-2 service_add">
                        <div class="form-group"
                             data-ng-class="{
                       'has-error' : newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus,
                       'has-success': newForm.charges_amt.$valid && !newForm.charges_amt.$pristine && !newForm.charges_amt.$focus
                         }">


                            <div class="area-f">
                                <label>Tax Amount</label>
                                <input disabled class="form-control  charge_label"
                                       name="TaxAmount" id="addNewServiceTaxAmount"
                                       data-ng-model="serviceType[$index].tax"
                                       minlength="1"
                                       maxlength="3"
                                       ng-pattern="/^(0|[1-9][0-9]*)$/"
                                       input-focus
                                       required />

                                <div class="text-danger"
                                     data-ng-if="newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus" id="err_addNewServiceTaxAmount">
                                    {{ 'Please enter valid percentage' | translate }}
                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="col-md-2 service_add">
                        <div class="form-group"
                             data-ng-class="{
                       'has-error' : newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus,
                       'has-success': newForm.charges_amt.$valid && !newForm.charges_amt.$pristine && !newForm.charges_amt.$focus
                         }">


                            <div class="area-f">
                                <label>Total Amount</label>
                                <input disabled class="form-control  charge_label"
                                       name="totalAmt" id="addNewServiceTotalAmount"
                                       data-ng-model="serviceType[$index].totalAmt"
                                       minlength="1"
                                       maxlength="3" ng-change="calTotalAmount()"
                                       ng-pattern="/^(0|[1-9][0-9]*)$/"
                                       input-focus
                                       required />

                                <div class="text-danger"
                                     data-ng-if="newForm.charges_amt.$invalid && (!newForm.charges_amt.$pristine || showValid) && !newForm.charges_amt.$focus" id="err_addNewServiceTotalAmount">
                                    {{ 'Please enter valid percentage' | translate }}
                                </div>




                            </div>


                        </div>

                    </div>

                    <!--<div style="margin-top: 4%;" id="add-address" ng-class="{'add-input add-input2': $index==0,'remove-field': $index>0}" ng-click="addNewquote2($event)"><a style="    margin-top: 4%;" href="javascript:">remove</a></div>-->

                </div>

            </div>
            <div class="col-md-6" style="text-align:left">
                <button type="submit" id="btn_addNewServiceNew" class="btn btn-primary quote_add_btn" value="ADD NEW" ng-click="addNewquote2($event)">ADD NEW</button>
                <button type="button" id="btn_addNewServiceClear" class="btn btn-primary quote_clear_btn" value="CLEAR" ng-click="quotes2.pop()">CLEAR</button>
            </div>
            <div id="add-address" ng-class="{'add-input add-input2': $index==0,'remove-field0': $index>0}"><a href="javascript:"></a></div>

            </br>
            </br>



            <div class="modal-btn-wrap clearfix" style="margin-top: 2%;">
                <button id="btn_addNewServiceSave" ng-click="ServicePost()" class="f-btn">SAVE</button>

                <button id="btn_addNewServiceCancel" type="button" class="f-btn f-btn2" ng-click="cancel()">CANCEL</button>
            </div>
        </form>


    </div><!-- modal-body ended -->

</div><!-- modal ended -->
